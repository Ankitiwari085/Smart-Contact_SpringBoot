<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Base Html</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <link th:href="@{/CSS/style.css}" rel="stylesheet" />
</head>
<body >
<!--  NavBaar-->
<nav class=" fixed-top navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">

        <a class="navbar-brand" th:href="@{/}">Smart Contact</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <!-- Menu items (pushed fully right using ms-auto) -->
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0  text-uppercase">

                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" th:href="@{/}">Home</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link active" th:href="@{//about}">About</a>
                </li>


                <li class="nav-item">
                    <a class="nav-link active"  th:href="@{/user/profile}" th:text="${user.name}"></a>
                </li>

                <li class="nav-item">
                    <a class="nav-link active"  th:href="@{/logout}">Logout</a>
                </li>

            </ul>


        </div>
    </div>
</nav>
<!--NavBar END-->

<!-- Sidebar -->
<div class="sidebar">
    <ul>
        <li><a th:href="@{/user/user_dashboard}"><i class="bi bi-house"></i> Home</a></li>
        <li><a th:href="@{/user/add-contact}"><i class="bi bi-person-plus"></i> Add Contact</a></li>
        <li><a th:href="@{/user/show-contacts/0}"><i class="bi bi-person-lines-fill"></i> View Contact</a></li>
        <li><a th:href="@{/user/profile}"><i class="bi bi-person-circle"></i> Your Profile</a></li>
        <li><a th:href="@{/user/setting}"><i class="bi bi-gear-wide-connected"></i> Setting</a></li>
        <li><a th:href="@{/logout}"><i class="bi bi-box-arrow-left"></i> Logout</a></li>
    </ul>
</div>

<!-- Toggle Button -->
<button class="sidebar-toggle">â˜°</button>

<!-- Page Content Wrapper -->
<div class="content-wrapper">
    <div th:if="${session.message}" class="container">
        <div th:classappend="${'alert-'+session.message.type}" class="alert text-center" role="alert">
            <span th:text="${session.message.content}"></span>
        </div>

        <th:block th:text="${@sessionHelper.removeMessageFromSession()}"></th:block>
    </div>
    <div class="content" th:replace="${content}"></div>
</div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    function deleteContact(cId){
    Swal.fire({
  title: "Are you sure?",
  text: "You won't be able to revert this!",
  icon: "warning",
  showCancelButton: true,
  confirmButtonColor: "#3085d6",
  cancelButtonColor: "#d33",
  confirmButtonText: "Yes, delete it!"
}).then((result) => {
  if (result.isConfirmed) {
  window.location="/user/delete/"+cId;
    Swal.fire({
      title: "Deleted!",
      text: "Your file has been deleted.",
      icon: "success"
    });
  }
});
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{/JS/script.js}"></script>
</body>
</html>
